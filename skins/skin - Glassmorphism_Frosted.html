<!DOCTYPE html>
<html>
<head>
    <style>
        body { margin: 0; padding: 20px; font-family: 'Segoe UI', sans-serif; background: transparent; }
        
        .glass-player {
            display: flex; align-items: center; width: auto; max-width: 500px; min-width: 300px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px; padding: 10px; padding-right: 25px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            color: white; transition: transform 0.3s;
        }
        
        .disc {
            width: 50px; height: 50px; border-radius: 50%; overflow: hidden;
            border: 2px solid rgba(255,255,255,0.5); flex-shrink: 0;
            animation: spin 8s linear infinite; animation-play-state: paused;
        }
        .playing .disc { animation-play-state: running; }
        .disc img { width: 100%; height: 100%; object-fit: cover; }
        
        .text-content { margin-left: 15px; display: flex; flex-direction: column; overflow: hidden; }
        .song { font-weight: 600; font-size: 15px; letter-spacing: 0.5px; white-space: nowrap; }
        .art { font-weight: 300; font-size: 12px; opacity: 0.8; }
        
        /* Circular Progress ring wrapping the image? Too complex for simple CSS. Let's use a bottom line */
        .glass-progress {
            position: absolute; bottom: 0; left: 25px; right: 25px; height: 2px;
            background: rgba(255,255,255,0.2); border-radius: 2px; overflow: hidden;
        }
        .glass-fill { height: 100%; background: rgba(255,255,255,0.9); width: 0%; }

        @keyframes spin { 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div id="gp" class="glass-player">
        <div class="disc"><img id="img" src=""></div>
        <div class="text-content">
            <span id="t" class="song">Loading...</span>
            <span id="a" class="art"></span>
        </div>
        <div class="glass-progress"><div id="p" class="glass-fill"></div></div>
    </div>
    <script>
        setInterval(() => {
            fetch('/current_track').then(r=>r.json()).then(d => {
                const p = document.getElementById('gp');
                p.classList.toggle('playing', d.is_playing);
                document.getElementById('t').innerText = d.title;
                document.getElementById('a').innerText = d.artist;
                document.getElementById('img').src = d.thumbnail;
                document.getElementById('p').style.width = (d.position/d.duration*100) + '%';
            }).catch(()=>{});
        }, 1000);
    </script>
</body>
</html>